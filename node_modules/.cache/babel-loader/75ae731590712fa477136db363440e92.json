{"remainingRequest":"E:\\vue-project\\node_modules\\babel-loader\\lib\\index.js!E:\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\vue-project\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\vue-project\\src\\views\\admin\\Category\\Create-Category.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\vue-project\\src\\views\\admin\\Category\\Create-Category.vue","mtime":1644911641297},{"path":"E:\\vue-project\\babel.config.js","mtime":1641452703925},{"path":"E:\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646765681334},{"path":"E:\\vue-project\\node_modules\\babel-loader\\lib\\index.js","mtime":1646765696386},{"path":"E:\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646765681334},{"path":"E:\\vue-project\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646765700434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyB1c2VGb3JtLCB1c2VGaWVsZCB9IGZyb20gInZlZS12YWxpZGF0ZSI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwppbXBvcnQgY29sbGVjdGlvbiBmcm9tICIuLi8uLi8uLi9TZXJ2aWNlL0NvbGxlY3Rpb24iOwppbXBvcnQgaW1hZ2VzZXJ2aWNlIGZyb20gIi4uLy4uLy4uL1NlcnZpY2UvaW1hZ2Uuc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlLUNhdGVnb3J5IiwKICBtZXRob2RzOiB7CiAgICBJbWFnZXNfb25GaWxlQ2hhbmdlZDogZnVuY3Rpb24gSW1hZ2VzX29uRmlsZUNoYW5nZWQoZXZlbnQpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9LAogICAgSW1hZ2VzX29uVXBsb2FkOiBmdW5jdGlvbiBJbWFnZXNfb25VcGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbXlwb3N0cGFyYW1ldGVycyA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBteXBvc3RwYXJhbWV0ZXJzLmFwcGVuZCgiaW1hZ2UiLCB0aGlzLnNlbGVjdGVkRmlsZSwgdGhpcy5zZWxlY3RlZEZpbGUubmFtZSk7CiAgICAgIGltYWdlc2VydmljZS51cGxvYWRpbWFnZShteXBvc3RwYXJhbWV0ZXJzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmltZyA9IHJlc3BvbnNlLmRhdGEudXJsOwogICAgICAgIF90aGlzLkZpbWcgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnVybCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7IC8vIHRoaXMuZXJyb3JlZCA9IHRydWU7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgey8vIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsgLy8gZS5wcmV2ZW50ZGVmYXVsdCgpCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdmFyIHNjaGVtYSA9IHl1cC5vYmplY3QoewogICAgICBDYXRlZ29yeU5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiaXMgQ2F0ZWdvcnlOYW1lIHJlcXVpcmVkIiksCiAgICAgIFR5cGU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiaXMgQ2F0ZWdvcnlUeXBlIHJlcXVpcmVkIiksCiAgICAgIEZpbWc6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiaXMgQ2F0ZWdvcnlJbWFnZSByZXF1aXJlZCIpCiAgICB9KTsKCiAgICB2YXIgX3VzZUZvcm0gPSB1c2VGb3JtKHsKICAgICAgdmFsaWRhdGlvblNjaGVtYTogc2NoZW1hCiAgICB9KSwKICAgICAgICBoYW5kbGVTdWJtaXQgPSBfdXNlRm9ybS5oYW5kbGVTdWJtaXQsCiAgICAgICAgZXJyb3JzID0gX3VzZUZvcm0uZXJyb3JzOwoKICAgIHZhciBfdXNlRmllbGQgPSB1c2VGaWVsZCgiQ2F0ZWdvcnlOYW1lIiksCiAgICAgICAgQ2F0ZWdvcnlOYW1lID0gX3VzZUZpZWxkLnZhbHVlOwoKICAgIHZhciBfdXNlRmllbGQyID0gdXNlRmllbGQoIlR5cGUiKSwKICAgICAgICBUeXBlID0gX3VzZUZpZWxkMi52YWx1ZTsKCiAgICB2YXIgX3VzZUZpZWxkMyA9IHVzZUZpZWxkKCJGaW1nIiksCiAgICAgICAgRmltZyA9IF91c2VGaWVsZDMudmFsdWU7CgogICAgdmFyIHN1Ym1pdCA9IGhhbmRsZVN1Ym1pdChmdW5jdGlvbiAodmFsdWVzKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7CiAgICAgIGNvbGxlY3Rpb24ucG9zdF9jb2xsZWNpb24odmFsdWVzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm1zZyA9PSBudWxsKSB7CiAgICAgICAgICBfdGhpczIuJHN3YWwuZmlyZSh7CiAgICAgICAgICAgIGljb246ICJzdWNjZXNzIiwKICAgICAgICAgICAgdGl0bGU6ICJDYXRlZ29yeSBzdWNjZXNzIGNyZWF0ZWQiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAxNTAwCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCJNYW5hZ2UtQ2F0ZWdvcnkiKTsgLy8gdGhpcy4kZW1pdCgiZ2V0ZGF0YSIpOwogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRzd2FsLmZpcmUoewogICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICB0aXRsZTogIk9vcHMuLi4iLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLmVycm1zZwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJybXNnKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJybXNnKTsKICAgICAgICBfdGhpczIuZXJyb3JlZCA9IHRydWU7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwoKICAgICAgX3RoaXMyLiRmb3JjZVVwZGF0ZSgpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBDYXRlZ29yeU5hbWU6IENhdGVnb3J5TmFtZSwKICAgICAgVHlwZTogVHlwZSwKICAgICAgRmltZzogRmltZywKICAgICAgZXJyb3JzOiBlcnJvcnMsCiAgICAgIHN1Ym1pdDogc3VibWl0LAogICAgICBpbWc6ICcnCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["E:\\vue-project\\src\\views\\admin\\Category\\Create-Category.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"card sb\">\r\n    <div class=\"card-body p-5 m-2\">\r\n      <form class=\"row g-3\" @submit=\"submit\">\r\n        <h5 class=\"fw-bolder\">Category Basic information</h5>\r\n        <div class=\"col-md-6\">\r\n          <label for=\"CategoryName\" class=\"form-label\">CategoryName</label>\r\n          <input\r\n            type=\"text\"\r\n            v-bind:class=\"{\r\n              'form-control': true,\r\n              'is-invalid': errors.CategoryName != null,\r\n            }\"\r\n            id=\"CategoryName\"\r\n            v-model=\"CategoryName\"\r\n            required\r\n          />\r\n          <div id=\"CategoryType\" class=\"invalid-feedback\">\r\n            {{ errors.CategoryName }}\r\n          </div>\r\n        </div>\r\n        <b />\r\n        <div class=\"col-md-6\">\r\n          <label for=\"CategoryType\" class=\"form-label\">Category Type</label>\r\n          <input\r\n            type=\"text\"\r\n            v-bind:class=\"{\r\n              'form-control': true,\r\n              'is-invalid': errors.Type != null,\r\n            }\"\r\n            id=\"CategoryType\"\r\n            required\r\n            v-model=\"Type\"\r\n          />\r\n          <div id=\"CategoryType\" class=\"invalid-feedback\">\r\n            {{ errors.Type }}\r\n          </div>\r\n        </div>\r\n        <b />\r\n        <!-- <div class=\"col-md-6\">\r\n          <label for=\"CategoryImage\" class=\"form-label\"\r\n            >Category Image Url</label\r\n          >\r\n          <input\r\n            type=\"text\"\r\n            v-bind:class=\"{\r\n              'form-control': true,\r\n              'is-invalid': errors.Fimg != null,\r\n            }\"\r\n            id=\"CategoryImage\"\r\n            required\r\n            v-model=\"Fimg\"\r\n          />\r\n          <div id=\"CategoryType\" class=\"invalid-feedback\">\r\n            {{ errors.Fimg }}\r\n          </div>\r\n        </div> -->\r\n         <label for=\"CategoryImage\" class=\"form-label\"\r\n            >Category Image </label\r\n          >\r\n<div class=\"col-md-6 d-flex\"><input type=\"file\" @change=\"Images_onFileChanged\"  v-bind:class=\"{\r\n              'form-control': true,\r\n              'is-invalid': errors.Fimg != null,\r\n            }\"><button\r\n        @click.prevent=\"Images_onUpload\"\r\n      >\r\n        Upload!\r\n      </button>\r\n      </div>\r\n       <div id=\"CategoryType\"  class=\"invalid-feedback\">\r\n            {{ errors.Fimg }}\r\n          </div>\r\n      <div v-if=\"img!=''\">\r\n            <img :src=img style=\"height: 175px;width: 175px\"  >\r\n              \r\n</div>\r\n\r\n        <div class=\"col-12\">\r\n          <button\r\n            class=\"btn fw-bolder\"\r\n            style=\"background-color: red; color: white\"\r\n            type=\"submit\"\r\n          >\r\n            Create Category\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useForm, useField } from \"vee-validate\";\r\nimport * as yup from \"yup\";\r\nimport collection from \"../../../Service/Collection\";\r\nimport imageservice from \"../../../Service/image.service.js\"\r\nexport default {\r\n  name: \"Create-Category\",\r\n  \r\n  methods: {\r\n      Images_onFileChanged(event) {\r\n      this.selectedFile = event.target.files[0];\r\n    },\r\n        Images_onUpload() {\r\n          const mypostparameters = new FormData();\r\n      mypostparameters.append(\r\n        \"image\",\r\n        this.selectedFile,\r\n        this.selectedFile.name\r\n      );\r\n          imageservice.uploadimage(mypostparameters).then((response) => {\r\n          this.img = response.data.url;\r\n                    this.Fimg = response.data.url;\r\n\r\n          console.log(response.data.url);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          // this.errored = true;\r\n        })\r\n        .finally(() => {\r\n          // this.loading = false;\r\n        });\r\n        // e.preventdefault()\r\n        }\r\n  },\r\n  data() {\r\n    const schema = yup.object({\r\n      CategoryName: yup.string().required(\"is CategoryName required\"),\r\n      Type: yup.string().required(\"is CategoryType required\"),\r\n      Fimg: yup.string().required(\"is CategoryImage required\"),\r\n    });\r\n    var { handleSubmit, errors } = useForm({\r\n      validationSchema: schema,\r\n    });\r\n\r\n    const { value: CategoryName } = useField(\"CategoryName\");\r\n    const { value: Type } = useField(\"Type\");\r\n    const { value: Fimg } = useField(\"Fimg\");\r\n\r\n    const submit = handleSubmit((values) => {\r\n      console.log(values);\r\n      collection\r\n        .post_collecion(values)\r\n        .then((response) => {\r\n          if (response.data.errmsg == null) {\r\n            this.$swal.fire({\r\n              icon: \"success\",\r\n              title: \"Category success created\",\r\n              showConfirmButton: false,\r\n              timer: 1500,\r\n            });\r\n            this.$router.push(\"Manage-Category\");\r\n\r\n            // this.$emit(\"getdata\");\r\n            // console.log(response);\r\n          } else {\r\n            this.$swal.fire({\r\n              icon: \"error\",\r\n              title: \"Oops...\",\r\n              text: response.data.errmsg,\r\n            });\r\n          }\r\n        })\r\n        .catch((errmsg) => {\r\n          console.log(errmsg);\r\n          this.errored = true;\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n      this.$forceUpdate();\r\n    });\r\n    return {\r\n      CategoryName,\r\n      Type,\r\n      Fimg,\r\n      errors,\r\n      submit,\r\n      img:''\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.sb {\r\n  box-shadow: 0px 0px 5px 2px #00000012;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}