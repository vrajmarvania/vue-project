{"remainingRequest":"E:\\vue-project\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\vue-project\\src\\views\\admin\\Offers\\manage-offer.vue?vue&type=style&index=0&id=3e40d03c&scoped=true&lang=css","dependencies":[{"path":"E:\\vue-project\\src\\views\\admin\\Offers\\manage-offer.vue","mtime":1644926157862},{"path":"E:\\vue-project\\node_modules\\css-loader\\dist\\cjs.js","mtime":1646765687174},{"path":"E:\\vue-project\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1646765707182},{"path":"E:\\vue-project\\node_modules\\postcss-loader\\src\\index.js","mtime":1646765696078},{"path":"E:\\vue-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646765681334},{"path":"E:\\vue-project\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1646765700434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouc2Igew0KICBib3gtc2hhZG93OiAwcHggMHB4IDVweCAycHggIzAwMDAwMDEyOw0KfQ0K"},{"version":3,"sources":["E:\\vue-project\\src\\views\\admin\\Offers\\manage-offer.vue"],"names":[],"mappings":";AAkKA,CAAC,CAAC,EAAE;EACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvC","file":"E:/vue-project/src/views/admin/Offers/manage-offer.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <!-- <h1>manage-offer</h1> -->\r\n  <div class=\"card sb mt-4\">\r\n    <!-- <div class=\"card-header fw-bolder py-3\" style=\"background-color: #ffffff\">\r\n      Offer info  Createoffer\r\n    </div> -->\r\n\r\n    <div\r\n      class=\"card-header fw-bolder py-3 d-flex\"\r\n      style=\"\r\n        background-color: #ffffff;\r\n        display: flex !important;\r\n        justify-content: space-between;\r\n        align-items: center;\"\r\n    >\r\n      <div>Offer info</div>\r\n      <div class=\"text-end\">\r\n        <router-link\r\n          class=\"btn\"\r\n          style=\"background-color: #fff300;\"\r\n          :to=\"{ name: 'Createoffer' }\"\r\n          > Createoffer</router-link>\r\n      </div>\r\n    </div>\r\n    <div class=\"card-body p-5 m-2\">\r\n\r\n             <table class=\"table  table-hover\" id=\"datatable\">\r\n        <thead class=\"table-dark\">\r\n          <tr>\r\n            <th scope=\"col\">Id</th>\r\n            <th scope=\"col\">OfferName</th>\r\n            <th scope=\"col\">Offer_Start_Date</th>\r\n            <th scope=\"col\">Offer_End_Date</th>\r\n            <th scope=\"col\">IsDeleted</th>\r\n            <th scope=\"col\">offer pct</th>\r\n            <th scope=\"col\">Edit</th>\r\n            <th scope=\"col\">Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"i in datas\" :key=\"i\">\r\n            <td>#{{ i.Offer_id }}</td>\r\n            <td>{{ i.OfferName }}</td>\r\n            <td>{{ getdate(i.Offer_Start_Date) }}</td>\r\n            <td>{{ getdate(i.Offer_End_Date) }}</td>\r\n            <td>\r\n              <h6 v-if=\"i.IsDeleted\">YES</h6>\r\n              <h6 v-else>NO</h6>\r\n            </td>\r\n            <td>{{ i.Offer_pct }}</td>\r\n\r\n            <td>\r\n              <router-link\r\n                class=\"btn\"\r\n                style=\"background-color: #fff300\"\r\n                :to=\"{\r\n                  name: 'EditOffer',\r\n                  params: { id: i.id },\r\n                }\"\r\n                ><i class=\"fas fa-edit fonticon\"></i\r\n              ></router-link>\r\n            </td>\r\n            <td>\r\n              <button\r\n                v-bind:class=\"{\r\n                  btn: true,\r\n                  disabled: false,\r\n                }\"\r\n                style=\"background-color: red; color: #ffffff\"\r\n                @Click=\"del(i._id)\"\r\n              >\r\n                <i class=\"fas fa-trash-alt fonticon\"></i>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Offer from \"../../../Service/offer\";\r\nimport moment from \"moment\";\r\n\r\nimport 'jquery/dist/jquery.min.js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"datatables.net-dt/js/dataTables.dataTables\"\r\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\"\r\nimport $ from 'jquery'; \r\n\r\nexport default {\r\n  name: \"manage-offer\",\r\n  data() {\r\n    console.log(\r\n      moment(\"2022-02-07T11:50:00.000Z\").utc().format(\"YYYY-MM-DD:HH:MM\")\r\n    );\r\n\r\n    return {\r\n      datas: [],\r\n    };\r\n  },\r\n  methods: {\r\n    getdate(date) {\r\n      return moment(date).utc().format(\"YYYY-MM-DD:HH:MM\");\r\n    },\r\n    getdata() {\r\n      Offer.getall_Offer()\r\n        .then((response) => {\r\n          this.datas = response.data;\r\n          console.log(response.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          this.errored = true;\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n                          $('#datatable').DataTable();\r\n\r\n        });\r\n    },\r\n    del(ids) {\r\n      this.$swal\r\n        .fire({\r\n          title: \"Are you sure?\",\r\n          text: \"You won't be able to revert this!\",\r\n          icon: \"warning\",\r\n          showCancelButton: true,\r\n          confirmButtonColor: \"#3085d6\",\r\n          cancelButtonColor: \"#d33\",\r\n          confirmButtonText: \"Yes, delete it!\",\r\n        })\r\n        .then((result) => {\r\n          if (result.isConfirmed) {\r\n            console.log(ids);\r\n            Offer.delete_Offer(ids)\r\n              .then((response) => {\r\n                console.log(response);\r\n                this.$swal.fire(\r\n                  \"Deleted!\",\r\n                  \"Your file has been deleted.\",\r\n                  \"success\"\r\n                );\r\n                this.getdata();\r\n              })\r\n              .catch((e) => {\r\n                console.log(e);\r\n                this.errored = true;\r\n              })\r\n              .finally(() => {\r\n                this.loading = false;\r\n              });\r\n          }\r\n        });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getdata();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.sb {\r\n  box-shadow: 0px 0px 5px 2px #00000012;\r\n}\r\n</style>\r\n"]}]}